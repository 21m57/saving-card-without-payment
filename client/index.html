<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Stripe Payment Page Recipe</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/global.css" />
    <script src="https://js.stripe.com/v3/"></script>
    <script src="/script.js" defer></script>
  </head>
  <body>
    <div class="sr-root">
      <div id="startstate" class="sr-main">
        <header class="sr-header">
          <div class="sr-header__logo"></div>
        </header>
        <div class="sr-payment-summary">
          <h1>Link a card to your account</h1>
          <h4>
            You'll be able to use the card for your active subscriptions and
            future purchases.
          </h4>
        </div>
        <div class="sr-payment-form">
          <form action="" method="get" id="payment-form">
            <div class="sr-form-row">
              <label for="card-element">
                Default payment card
              </label>
              <div class="sr-input sr-card-element" id="card-element"></div>
              <div class="sr-field-error" id="card-errors" role="alert"></div>
            </div>
            <div class="sr-form-row">
              <button id="card-button"><div class="spinner hidden" id="spinner"></div><span id="button-text">Link card to your account</span></button>
            </div>
          </form>
        </div>
      </div>
      <div id="endstate" class="sr-main sr-endstate">
        <header class="sr-header">
          <div class="sr-header__logo"></div>
        </header>
        <div class="sr-payment-summary">
          <h1>
            Your card setup was successful.
          </h1>
          <h4>
            A customer has been created with the payment method. View
            <a href="https://stripe.com/docs/api/setup_intents"
              >SetupIntent response</a
            >
          </h4>
        </div>

        <div class="sr-section">
          <div class="sr-callout">
            <pre id="setupIntent-response"></pre>
          </div>
          <button onclick="window.location.href='/'" class="fullwidth">
            Restart demo
          </button>
        </div>
      </div>
      <div class="sr-content">
        <img
          alt="Pasha company logo"
          src="pasha-card.svg"
          width="240"
          height="260"
        />
      </div>
    </div>
  </body>
</html>
